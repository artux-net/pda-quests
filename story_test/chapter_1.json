{
    "id": 1,
    "music": [
        {
            "id": "0",
            "name": "Fire 1 20% | Prologue chapter 0",
            "url": "story/prologue/sound/fire.mp3",
            "params": [
                "loop",
                "volume:0.2"
            ]
        },
        {
            "id": "1",
            "name": "Fire 1 50%| Prologue chapter 0",
            "url": "story/prologue/sound/fire.mp3",
            "params": [
                "loop",
                "volume:0.5"
            ]
        },
        {
            "id": "2",
            "name": "Guitar 1 50% | Prologue chapter 0",
            "url": "story/prologue/sound/guitar.mp3",
            "params": [
                "volume:0.5"
            ]
        },
        {
            "id": "3",
            "name": "Guitar 1 100% | Prologue chapter 0",
            "url": "story/prologue/sound/guitar.mp3",
            "params": []
        },
        {
            "id": "4",
            "name": "PDA новое уведомление",
            "url": "story/prologue/sound/PDA1.mp3",
            "params": []
        },
        {
            "id": "5",
            "name": "PDA новый квест",
            "url": "story/prologue/sound/PDA2.mp3",
            "params": []
        },
        {
            "id": "6",
            "name": "PDA новое сообщение",
            "url": "story/prologue/sound/PDA3.mp3",
            "params": []
        }
    ],
    "stages": [
        {
            "id": 0,
            "type_stage": 0,
            "background_url": "story/prologue/screen/chapter_0_0.jpg",
            "title": "Тестовая глава",
            "texts": [
                {
                    "text": "Ты открыл тестовую историю. Каждая история состоит из глав. Главы из стадий. Сейчас ты находишься на 0 стадии от 1 главы тестовой истории. Каждую стадию можно представить в виде кода, код этой - 0:1:0."
                }
            ],
            "transfers": [
                {
                    "text": "Далее",
                    "stage_id": "1",
                    "condition": {}
                }
            ]
        },
        {
            "id": 1,
            "type_stage": 0,
            "background_url": "story/prologue/screen/chapter_0_0.jpg",
            "title": "Вторая стадия тестовой главы",
            "texts": [
                {
                    "text": "Стадия нужна для рендринга движком экрана, который ты сейчас видишь. Грубо говоря стадия представляет один экран с выбором ответов игрока."
                }
            ],
            "transfers": [
                {
                    "text": "Еще о движке, про параметры",
                    "stage_id": "2"
                },
                {
                    "text": "Открыть карту",
                    "stage_id": "5"
                }
            ]
        },
        {
            "id": 2,
            "type_stage": 0,
            "background_url": "story/prologue/screen/chapter_0_0.jpg",
            "title": "Из чего состоит стадия",
            "message": "",
            "type_message": 0,
            "texts": [
                {
                    "text": "Стадия в необработанном движком виде имеет: переходы(transfers) которые преобразуются в кнопки с выбором ответов; действия(actions) - это сигналы движку, которые сообщают что необходимо сделать с игроком и условия (condition), их движок проверяет и скрывает контент, который сейчас не подходит под параметры игрока."
                }
            ],
            "transfers": [
                {
                    "text": "Открыть карту",
                    "stage_id": 5
                },
                {
                    "text": "Это пример перехода без условий, который ведет на стадию с действиями, ниже должен быть еще переход если у тебя есть параметр kill_bill. ",
                    "stage_id": "3"
                },
                {
                    "text": "Есть параметр kill_bill, видимо нас ждут новые открытия в сюжете, перейдем в новую стадию!",
                    "stage_id": "4",
                    "condition": {
                        "has": [
                            "kill_bill"
                        ]
                    }
                }
            ]
        },
        {
            "id": 3,
            "type_stage": 0,
            "background_url": "story/prologue/screen/chapter_0_0.jpg",
            "title": "Стадия, которая добавляет параметр",
            "texts": [
                {
                    "text": "Здесь мы добавили параметр kill_bill, теперь заживем."
                }
            ],
            "transfers": [
                {
                    "text": "Проверим на стадии которая была раньше.",
                    "stage_id": "2"
                }
            ],
            "actions": {
                "add": [
                    "kill_bill"
                ],
                "force": []
            }
        },
        {
            "id": 4,
            "type_stage": 0,
            "background_url": "story/prologue/screen/chapter_0_0.jpg",
            "title": "И вот мы попали туда, где раньше не были.",
            "message": "",
            "type_message": 0,
            "texts": [
                {
                    "text": "Здесь удалим параметр, чтобы в дальнейшем он нам не мешал",
                    "condition": {}
                }
            ],
            "transfers": [
                {
                    "text": "Открыть карту",
                    "stage_id": "5",
                    "condition": {}
                },
                {
                    "text": "Проверить наличие параметра",
                    "stage_id": 2
                }
            ],
            "actions": {
                "remove": [
                    "kill_bill"
                ],
                "force": []
            }
        },
        {
            "id": 5,
            "type_stage": 4,
            "data": {
                "map": "0",
                "pos": "500:500"
            }
        },
        {
            "id": 6,
            "type_stage": 4,
            "data": {
                "map": 0,
                "pos": "500:500"
            },
            "actions": {
                "add": [
                    "1:1",
                    "14:1",
                    "71:1",
                    "29:24",
                    "40:90"
                ],
                "money": [
                    "600"
                ]
            }
        }
    ]
}